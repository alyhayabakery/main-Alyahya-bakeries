<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>منيو المخبز</title>

  <!-- خط Tajawal -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">

  <style>
    :root {
      --gold-brown: #d3a273;
      --deep-maroon: #561414;
      --mid-maroon: #582222;
      --white: #ffffff;

      /* أحجام افتراضية متناسقة */
      --base-size: 20px;
      --tab-size: 22px;
      --h2-size: 26px;
      --name-price-size: 26px;
      --desc-curr-size: 22px;

      --item-shadow: 0 2px 6px rgba(0,0,0,0.18);
      --section-shadow: 0 6px 16px rgba(88,34,34,0.35);
    }

    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }

    /* تطبيق الخط على العناصر المهمة */
    body, .navbar, .overlay, .overlay-content a, .tabs, .tab, .menu-section, .menu-section h2, .item {
      font-family: 'Tajawal', sans-serif;
    }

    body {
      margin: 0;
      background: var(--gold-brown);
      color: var(--deep-maroon);
      font-size: var(--base-size);
      line-height: 1.8;
      font-weight: 700;
      padding-bottom: 60px;
    }

    /* Navbar ثابت */
    .navbar {
      position: fixed;
      top: 0; right: 0; left: 0;
      background: var(--mid-maroon);
      color: #fff;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 20px;
      z-index: 2000;
    }
    .navbar .logo { font-size: 22px; font-weight: 800; }
    .navbar .menu-btn {
      font-size: 22px; cursor: pointer; background: none; border: none; color: #fff;
    }

    /* Overlay كامل الشاشة */
    .overlay {
      height: 0;
      width: 100%;
      position: fixed;
      top: 0; right: 0; left: 0;
      background-color: rgba(88,34,34,0.95);
      overflow: hidden;
      transition: height 0.5s ease;
      z-index: 3000;
    }
    .overlay-content {
      position: absolute;
      top: 25%;
      left: 0; right: 0;
      text-align: center;
    }
    .overlay-content a {
      padding: 12px;
      text-decoration: none;
      font-size: 24px;
      color: #fff;
      display: block;
      transition: 0.3s;
    }
    .overlay-content a:hover {
      background: var(--gold-brown);
      color: var(--deep-maroon);
    }
    .overlay .closebtn {
      position: absolute;
      top: 20px;
      left: 30px;
      font-size: 36px;
      color: #fff;
      cursor: pointer;
    }

    /* البانر */
    .hero-container {
      width: calc(100% - 10px);
      margin: 70px auto 0; /* أسفل الـNavbar */
      overflow: hidden;
      border-radius: 12px;
      max-width: 1200px;
      background: var(--white);
    }
    .hero-image { width: 100%; height: auto; display: block; object-fit: contain; }

    /* التبويبات */
    .tabs {
      position: sticky;
      top: 60px; /* تحت الـNavbar */
      z-index: 1000;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      padding: 10px;
      background: var(--gold-brown);
    }
    .tab {
      background: transparent;
      color: var(--white);
      cursor: pointer;
      font-weight: 800;
      font-size: var(--tab-size);
      padding: 8px 12px;
      border: none;
      border-radius: 8px;
      transition: background-color 0.2s ease, color 0.2s ease;
      white-space: nowrap;
    }
    .tab.active { background: var(--mid-maroon); color: var(--white); }

    /* الأقسام */
    .menu-section {
      margin: 20px auto;
      padding: 16px;
      background: var(--gold-brown);
      border-radius: 12px;
      box-shadow: var(--section-shadow);
      max-width: 1100px;
    }
    .menu-section h2 {
      margin: 0 0 10px 0;
      font-size: var(--h2-size);
      color: var(--deep-maroon);
      font-weight: 800;
    }

    /* المنتجات */
    .item {
      background: var(--gold-brown);
      margin-bottom: 12px;
      padding: 14px;
      border-radius: 10px;
      cursor: pointer;
      transition: background 0.2s ease, transform 0.1s ease;
      box-shadow: var(--item-shadow);
    }
    .item:active { transform: scale(0.995); }
    .item-header {
      display: flex; justify-content: space-between; align-items: flex-start;
      gap: 8px 12px; flex-wrap: wrap;
    }
    .item-name { font-size: var(--name-price-size); color: var(--deep-maroon); font-weight: 800; }
    .item-price { text-align: left; font-size: var(--name-price-size); color: var(--mid-maroon); font-weight: 800; }
    .item-desc { margin-top: 6px; font-size: var(--desc-curr-size); color: var(--deep-maroon); font-weight: 700; }
    .item-currency { text-align: left; font-size: var(--desc-curr-size); color: var(--white); font-weight: 700; }

    .item-image {
      max-height: 0; overflow: hidden; opacity: 0;
      transition: max-height 0.5s ease, opacity 0.5s ease;
    }
    .item-image img {
      width: 100%; height: auto; margin-top: 10px; border-radius: 10px; display: block; background: var(--white);
    }
    .item.active .item-image { max-height: 400px; opacity: 1; }

    /* تحسينات للشاشات المتوسطة */
    @media (max-width: 768px) {
      :root {
        --base-size: 18px;
        --tab-size: 20px;
        --h2-size: 22px;
        --name-price-size: 22px;
        --desc-curr-size: 18px;
      }
      .tabs { gap: 8px; padding: 8px; }
      .tab { padding: 8px 10px; }
      .menu-section { padding: 14px; }
    }

    /* تحسينات للشاشات الصغيرة جدًا */
    @media (max-width: 480px) {
      :root {
        --base-size: 16px;
        --tab-size: 18px;
        --h2-size: 20px;
        --name-price-size: 20px;
        --desc-curr-size: 16px;
      }
      .navbar { padding: 10px 16px; }
      .hero-container { margin-top: 64px; }
      .tabs { gap: 6px; padding: 8px; }
      .tab { padding: 6px 10px; border-radius: 8px; }
      .menu-section { padding: 12px; }
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <div class="navbar">
    <div class="logo">منيو المخبز</div>
    <button class="menu-btn" onclick="openOverlay()">☰</button>
  </div>

  <!-- Overlay Menu (تبقى الروابط: الرئيسية، جديدنا، تواصل معنا) -->
  <div id="overlayMenu" class="overlay" aria-hidden="true">
    <span class="closebtn" onclick="closeOverlay()">×</span>
    <div class="overlay-content">
      <a href="#top" onclick="closeOverlay()">الرئيسية</a>
      <a href="#new" onclick="closeOverlay()">جديدنا</a>
      <a href="#contact" onclick="closeOverlay()">تواصل معنا</a>
    </div>
  </div>

  <!-- البانر -->
  <div class="hero-container" id="top">
    <img src="banner.png" alt="منيو Alyahya" class="hero-image">
  </div>

  <!-- التبويبات -->
  <div class="tabs" id="tabs">
    <button class="tab active" data-target="pizza">بيتزا</button>
    <button class="tab" data-target="pastry">معجنات</button>
    <button class="tab" data-target="falafel">فلافل</button>
    <button class="tab" data-target="appetizers">مقبلات</button>
  </div>

  <!-- الأقسام + منتجات -->
  <section id="pizza" class="menu-section">
    <h2>بيتزا</h2>

    <div class="item">
      <div class="item-header">
        <div>
          <div class="item-name">بيتزا مارغريتا</div>
          <div class="item-desc">صلصة طماطم، موزاريلا طازجة، ريحان</div>
        </div>
        <div>
          <div class="item-price">24</div>
          <div class="item-currency">ريال</div>
        </div>
      </div>
      <div class="item-image"><img src="pizza-margherita.jpg" alt="بيتزا مارغريتا"></div>
    </div>

    <div class="item">
      <div class="item-header">
        <div>
          <div class="item-name">بيتزا بيبروني</div>
          <div class="item-desc">موزاريلا، بيبروني، صلصة خاصة</div>
        </div>
        <div>
          <div class="item-price">28</div>
          <div class="item-currency">ريال</div>
        </div>
      </div>
      <div class="item-image"><img src="pizza-pepperoni.jpg" alt="بيتزا بيبروني"></div>
    </div>

    <div class="item">
      <div class="item-header">
        <div>
          <div class="item-name">بيتزا خضار</div>
          <div class="item-desc">فلفل، زيتون، مشروم، ذرة، جبن</div>
        </div>
        <div>
          <div class="item-price">26</div>
          <div class="item-currency">ريال</div>
        </div>
      </div>
      <div class="item-image"><img src="pizza-veggie.jpg" alt="بيتزا خضار"></div>
    </div>
  </section>

  <section id="pastry" class="menu-section">
    <h2>معجنات</h2>

    <div class="item">
      <div class="item-header">
        <div>
          <div class="item-name">فطيرة جبن</div>
          <div class="item-desc">عجينة طرية، جبن أبيض، رشة زعتر</div>
        </div>
        <div>
          <div class="item-price">8</div>
          <div class="item-currency">ريال</div>
        </div>
      </div>
      <div class="item-image"><img src="pastry-cheese.jpg" alt="فطيرة جبن"></div>
    </div>

    <div class="item">
      <div class="item-header">
        <div>
          <div class="item-name">فطيرة الزعتر</div>
          <div class="item-desc">زعتر بلدي بزيت الزيتون</div>
        </div>
        <div>
          <div class="item-price">7</div>
          <div class="item-currency">ريال</div>
        </div>
      </div>
      <div class="item-image"><img src="pastry-zaatar.jpg" alt="فطيرة الزعتر"></div>
    </div>

    <div class="item">
      <div class="item-header">
        <div>
          <div class="item-name">كرواسون زبدة</div>
          <div class="item-desc">طبقات ذهبية مقرمشة بنكهة الزبدة</div>
        </div>
        <div>
          <div class="item-price">9</div>
          <div class="item-currency">ريال</div>
        </div>
      </div>
      <div class="item-image"><img src="croissant-butter.jpg" alt="كرواسون زبدة"></div>
    </div>
  </section>

  <section id="falafel" class="menu-section">
    <h2>فلافل</h2>

    <div class="item">
      <div class="item-header">
        <div>
          <div class="item-name">سندويتش فلافل</div>
          <div class="item-desc">خبز طازج، فلافل، طحينة، مخللات</div>
        </div>
        <div>
          <div class="item-price">6</div>
          <div class="item-currency">ريال</div>
        </div>
      </div>
      <div class="item-image"><img src="falafel-sandwich.jpg" alt="سندويتش فلافل"></div>
    </div>

    <div class="item">
      <div class="item-header">
        <div>
          <div class="item-name">فلافل طبق</div>
          <div class="item-desc">كرات فلافل مقرمشة مع صوصات جانبية</div>
        </div>
        <div>
          <div class="item-price">10</div>
          <div class="item-currency">ريال</div>
        </div>
      </div>
      <div class="item-image"><img src="falafel-plate.jpg" alt="فلافل طبق"></div>
    </div>
  </section>

  <section id="appetizers" class="menu-section">
    <h2>مقبلات</h2>

    <div class="item">
      <div class="item-header">
        <div>
          <div class="item-name">حمص</div>
          <div class="item-desc">حمص كريمي بزيت الزيتون والطحينة</div>
        </div>
        <div>
          <div class="item-price">10</div>
          <div class="item-currency">ريال</div>
        </div>
      </div>
      <div class="item-image"><img src="hummus.jpg" alt="حمص"></div>
    </div>

    <div class="item">
      <div class="item-header">
        <div>
          <div class="item-name">بطاطس ويدجز</div>
          <div class="item-desc">بطاطس متبلة ومقرمشة مع صوص خاص</div>
        </div>
        <div>
          <div class="item-price">9</div>
          <div class="item-currency">ريال</div>
        </div>
      </div>
      <div class="item-image"><img src="wedges.jpg" alt="بطاطس ويدجز"></div>
    </div>

    <div class="item">
      <div class="item-header">
        <div>
          <div class="item-name">سلطة فتوش</div>
          <div class="item-desc">خضار طازجة مع خبز محمص وصلصة ليمون</div>
        </div>
        <div>
          <div class="item-price">12</div>
          <div class="item-currency">ريال</div>
        </div>
      </div>
      <div class="item-image"><img src="fattoush.jpg" alt="سلطة فتوش"></div>
    </div>
  </section>

  <script>
    // فتح/إغلاق Overlay
    function openOverlay() {
      const ov = document.getElementById('overlayMenu');
      ov.style.height = '100%';
      ov.setAttribute('aria-hidden', 'false');
    }
    function closeOverlay() {
      const ov = document.getElementById('overlayMenu');
      ov.style.height = '0';
      ov.setAttribute('aria-hidden', 'true');
    }

    // فتح/إغلاق صورة المنتج داخل البطاقة
    document.querySelectorAll('.item').forEach(item => {
      item.addEventListener('click', () => item.classList.toggle('active'));
    });

    // التبويبات: تفعيل فوري + تنقل ناعم مع منع تداخل ScrollSpy
    const tabs = document.querySelectorAll('.tab');
    let isClickNavigating = false;

    function activateTab(tabEl) {
      tabs.forEach(t => t.classList.remove('active'));
      tabEl.classList.add('active');
    }

    tabs.forEach(tab => {
      tab.addEventListener('click', (e) => {
        e.preventDefault();
        const target = tab.dataset.target;

        activateTab(tab);
        isClickNavigating = true;

        const section = document.getElementById(target);
        if (section) section.scrollIntoView({ behavior: 'smooth', block: 'start' });

        setTimeout(() => { isClickNavigating = false; }, 700);
      });
    });

    // ScrollSpy أثناء التمرير فقط
    const sections = document.querySelectorAll('.menu-section');
    const tabsContainer = document.getElementById('tabs');
    const stickyOffset = (tabsContainer?.offsetHeight || 60) + 40;

    const sectionToTab = {};
    tabs.forEach(t => { sectionToTab[t.dataset.target] = t; });

    const observer = new IntersectionObserver((entries) => {
      if (isClickNavigating) return;

      const visible = entries.filter(e => e.isIntersecting);
      if (visible.length > 0) {
        visible.sort((a, b) => b.intersectionRatio - a.intersectionRatio);
        const id = visible[0].target.id;
        const tab = sectionToTab[id];
        if (tab) activateTab(tab);
      }
    }, { root: null, rootMargin: `-${stickyOffset}px 0px -50% 0px`, threshold: 0 });

    sections.forEach(section => observer.observe(section));
  </script>
</body>
</html>
